# Copy this file to `.dev.vars` before running `npm run dev`.
#
# ✅ Safe to commit this example file.
# ❌ Never commit a populated `.dev.vars`.
#
# You can leave secrets empty to use local fallbacks; populate the sections you
# need (AI reading generation, TTS, Stripe, etc.).

# --- Azure OpenAI (GPT-5 narrative generation; optional but recommended) ---
AZURE_OPENAI_ENDPOINT="https://your-azure-resource.openai.azure.com"
AZURE_OPENAI_API_KEY=""
AZURE_OPENAI_GPT5_MODEL=""

# Optional API versions
AZURE_OPENAI_API_VERSION="v1"
AZURE_OPENAI_RESPONSES_API_VERSION="v1"

# Optional embeddings (GraphRAG semantic scoring)
AZURE_OPENAI_EMBEDDING_MODEL="text-embedding-3-large"
AZURE_OPENAI_EMBEDDINGS_API_VERSION="v1"

# --- Azure AI Foundry Anthropic (Claude fallback; optional) ---
AZURE_ANTHROPIC_ENDPOINT=""
AZURE_ANTHROPIC_API_KEY=""
AZURE_ANTHROPIC_MODEL="claude-opus-4-5"

# --- Azure OpenAI TTS (optional) ---
AZURE_OPENAI_TTS_ENDPOINT=""  # Optional; falls back to AZURE_OPENAI_ENDPOINT
AZURE_OPENAI_TTS_API_KEY=""   # Optional; falls back to AZURE_OPENAI_API_KEY
AZURE_OPENAI_GPT_AUDIO_MINI_DEPLOYMENT=""
AZURE_OPENAI_GPT_AUDIO_MINI_FORMAT="mp3"
AZURE_OPENAI_USE_V1_FORMAT="true"

# --- Azure Speech (optional; enables /api/speech-token) ---
AZURE_SPEECH_KEY=""
AZURE_SPEECH_REGION="eastus2"
ENABLE_SPEECH_TOKEN_DEBUG="false"

# --- Vision research mode (required only if using vision UI) ---
VISION_PROOF_SECRET=""
VITE_ENABLE_VISION_RESEARCH="false"

# --- Optional feature flags / diagnostics ---
VITE_NEW_DECK_INTERFACE="false"
VITE_SYMBOL_DETECTOR_MODEL=""
GRAPHRAG_ENABLED="true"
GRAPHRAG_SEMANTIC_SCORING="false"
ENABLE_SEMANTIC_SCORING="false"
ENABLE_PROMPT_SLIMMING="false"
DISABLE_QUALITY_FILTERING="false"
LOG_LLM_PROMPTS="false"
LOG_NARRATIVE_ENHANCEMENTS="false"
LOG_ENHANCEMENT_TELEMETRY="false"
PERSIST_PROMPTS="false"
PROMPT_BUDGET_AZURE=""   # Approx token cap for Azure prompts (chars/4 heuristic)
PROMPT_BUDGET_CLAUDE=""  # Approx token cap for Claude prompts (chars/4 heuristic)
PROMPT_BUDGET_DEFAULT="" # Fallback budget if backend-specific values are unset

# --- Stripe billing/webhooks (optional; monetization endpoints) ---
STRIPE_SECRET_KEY=""
STRIPE_WEBHOOK_SECRET=""
STRIPE_PRICE_ID_PLUS=""
STRIPE_PRICE_ID_PRO=""

# --- App URL (optional; used for URL safety decisions) ---
APP_URL=""

# --- Admin tooling (optional) ---
ADMIN_API_KEY=""

# --- TTS debugging / rate limits (optional) ---
ENABLE_TTS_DEBUG_LOGGING="false"
TTS_RATE_LIMIT_MAX=""
TTS_RATE_LIMIT_WINDOW=""

# --- Alternative TTS provider (optional) ---
HUME_API_KEY=""

# --- Email alerts (optional; quality regression notifications) ---
RESEND_API_KEY=""
ALERT_EMAIL_TO=""

# --- Automated evaluation system (optional; see wrangler.jsonc for defaults) ---
EVAL_ENABLED="true"
EVAL_MODEL="@cf/meta/llama-3-8b-instruct-awq"
EVAL_TIMEOUT_MS="10000"
EVAL_GATE_ENABLED="false"
EVAL_GATEWAY_ID=""
METRICS_STORAGE_MODE="redact"  # Options: "redact", "minimal", "full"

# --- Quality alert thresholds (optional; see wrangler.jsonc for defaults) ---
QUALITY_ALERT_ENABLED="false"
QUALITY_REGRESSION_THRESHOLD="-0.3"
QUALITY_CRITICAL_THRESHOLD="-0.5"
QUALITY_SAFETY_SPIKE_THRESHOLD="0.02"
QUALITY_ALERT_MIN_READINGS="20"
ALERT_EMAIL_FROM="alerts@tarot.app"

# --- A/B testing (optional) ---
AB_TESTING_ENABLED="false"

# --- Astrology plugin (optional; only for tarot-astro-plugins) ---
SE_EPHE_PATH=""

# --- Vision fine-tuning (optional; development only) ---
VISION_ADAPTER_PATH=""

# --- R2 bucket access (optional; for export scripts only) ---
CF_ACCOUNT_ID=""
R2_ACCESS_KEY_ID=""
R2_SECRET_ACCESS_KEY=""
R2_BUCKET="tarot-logs"
