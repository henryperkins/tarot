<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Tableu â€” Cinematic Reading Experience Mockup</title>
<style>
  @import url('https://fonts.googleapis.com/css2?family=Cormorant+Garamond:ital,wght@0,400;0,600;0,700;1,400&family=Inter:wght@300;400;500;600&display=swap');

  :root {
    --bloom-color: rgba(212, 175, 55, 0.4);
    --particle-accent: #d4af37;
    --scene-bg-start: #0a0a12;
    --scene-bg-end: #12101f;
    --glass-bg: rgba(15, 12, 30, 0.75);
    --glass-border: rgba(255, 255, 255, 0.08);
    --glass-bg-light: rgba(255, 255, 255, 0.04);
    --gold: #d4af37;
    --gold-dim: rgba(212, 175, 55, 0.3);
    --amber: #f59e0b;
    --cyan: #06b6d4;
    --silver: #94a3b8;
    --emerald: #10b981;
    --indigo: #6366f1;
    --violet: #8b5cf6;
    --rose: #f43f5e;
    --text-primary: #f0ede6;
    --text-secondary: rgba(240, 237, 230, 0.6);
    --text-dim: rgba(240, 237, 230, 0.35);
    --duration-fast: 160ms;
    --duration-normal: 300ms;
    --duration-slow: 500ms;
    --duration-slower: 800ms;
  }

  * { margin: 0; padding: 0; box-sizing: border-box; }

  body {
    font-family: 'Inter', sans-serif;
    background: linear-gradient(135deg, var(--scene-bg-start), var(--scene-bg-end));
    color: var(--text-primary);
    min-height: 100vh;
    overflow-x: hidden;
  }

  /* â”€â”€â”€ Navigation â”€â”€â”€ */
  .scene-nav {
    position: fixed; top: 0; left: 0; right: 0; z-index: 1000;
    display: flex; gap: 2px; padding: 12px 16px;
    background: rgba(10, 10, 18, 0.92);
    backdrop-filter: blur(20px);
    border-bottom: 1px solid var(--glass-border);
  }
  .scene-nav button {
    flex: 1; padding: 10px 8px; border: none; border-radius: 8px;
    background: var(--glass-bg-light); color: var(--text-secondary);
    font-family: 'Inter', sans-serif; font-size: 11px; font-weight: 500;
    letter-spacing: 0.05em; text-transform: uppercase; cursor: pointer;
    transition: all 0.3s ease;
  }
  .scene-nav button.active {
    background: linear-gradient(135deg, rgba(212, 175, 55, 0.2), rgba(212, 175, 55, 0.08));
    color: var(--gold); border: 1px solid var(--gold-dim);
  }
  .scene-nav button:hover:not(.active) { background: rgba(255,255,255,0.06); color: var(--text-primary); }

  .mockup-label {
    position: fixed; bottom: 16px; right: 16px; z-index: 1000;
    padding: 6px 14px; border-radius: 20px;
    background: rgba(212, 175, 55, 0.15); border: 1px solid var(--gold-dim);
    font-size: 11px; color: var(--gold); letter-spacing: 0.1em; text-transform: uppercase;
  }

  /* â”€â”€â”€ Scene Container â”€â”€â”€ */
  .scene { display: none; min-height: 100vh; padding: 72px 0 40px; position: relative; }
  .scene.active { display: block; animation: sceneFadeIn 0.6s ease; }
  @keyframes sceneFadeIn { from { opacity: 0; } to { opacity: 1; } }

  /* â”€â”€â”€ Glass Panels â”€â”€â”€ */
  .glass-panel {
    background: var(--glass-bg);
    backdrop-filter: blur(24px) saturate(1.2);
    border: 1px solid var(--glass-border);
    border-radius: 16px;
  }
  .glass-card {
    background: rgba(20, 16, 40, 0.6);
    backdrop-filter: blur(12px);
    border: 1px solid var(--glass-border);
    border-radius: 12px;
  }
  .glass-dark {
    background: rgba(0, 0, 0, 0.5);
    backdrop-filter: blur(30px) saturate(1.4);
    border: 1px solid rgba(255, 255, 255, 0.05);
    border-radius: 20px;
  }

  /* â”€â”€â”€ Particles â”€â”€â”€ */
  .particle-field { position: absolute; inset: 0; overflow: hidden; pointer-events: none; z-index: 0; }
  .particle {
    position: absolute; border-radius: 50%;
    animation: particleFloat linear infinite;
  }
  @keyframes particleFloat {
    0% { transform: translateY(0) translateX(0) scale(1); opacity: 0; }
    10% { opacity: 1; }
    90% { opacity: 1; }
    100% { transform: translateY(-100vh) translateX(40px) scale(0.5); opacity: 0; }
  }
  .particle.gold { background: var(--gold); box-shadow: 0 0 6px var(--gold); }
  .particle.cyan { background: var(--cyan); box-shadow: 0 0 6px var(--cyan); }
  .particle.amber { background: var(--amber); box-shadow: 0 0 6px var(--amber); }
  .particle.emerald { background: var(--emerald); box-shadow: 0 0 6px var(--emerald); }
  .particle.violet { background: var(--violet); box-shadow: 0 0 6px var(--violet); }

  /* â”€â”€â”€ Bloom Effect â”€â”€â”€ */
  .bloom {
    position: absolute; border-radius: 50%; pointer-events: none;
    background: radial-gradient(circle, var(--bloom-color) 0%, transparent 70%);
    filter: blur(40px); opacity: 0.5;
  }

  /* â”€â”€â”€ Typography â”€â”€â”€ */
  h1, h2, h3 { font-family: 'Cormorant Garamond', serif; font-weight: 600; }
  h1 { font-size: 2.5rem; line-height: 1.2; }
  h2 { font-size: 1.75rem; line-height: 1.3; }
  h3 { font-size: 1.25rem; line-height: 1.4; }
  .text-dim { color: var(--text-dim); }
  .text-secondary { color: var(--text-secondary); }
  .text-gold { color: var(--gold); }

  /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     SCENE 1: IDLE
     â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
  .idle-scene {
    display: flex; flex-direction: column; align-items: center; justify-content: center;
    min-height: 100vh; text-align: center; padding: 72px 24px 40px;
  }
  .idle-scene .moon-phase {
    width: 80px; height: 80px; border-radius: 50%;
    background: radial-gradient(circle at 35% 40%, #e8e0d0 0%, #c4b896 40%, #2a2520 70%);
    box-shadow: 0 0 40px rgba(212, 175, 55, 0.2), 0 0 80px rgba(212, 175, 55, 0.08);
    margin-bottom: 32px;
    animation: moonGlow 4s ease-in-out infinite alternate;
  }
  @keyframes moonGlow {
    from { box-shadow: 0 0 40px rgba(212, 175, 55, 0.15), 0 0 80px rgba(212, 175, 55, 0.05); }
    to { box-shadow: 0 0 50px rgba(212, 175, 55, 0.3), 0 0 100px rgba(212, 175, 55, 0.12); }
  }
  .question-input {
    width: 100%; max-width: 560px; margin: 32px 0 24px; padding: 18px 24px;
    background: var(--glass-bg); border: 1px solid var(--glass-border);
    border-radius: 14px; color: var(--text-primary);
    font-family: 'Inter', sans-serif; font-size: 16px; outline: none;
    transition: border-color 0.3s ease;
  }
  .question-input:focus { border-color: var(--gold-dim); }
  .question-input::placeholder { color: var(--text-dim); font-style: italic; }

  .spread-carousel {
    display: flex; gap: 12px; overflow-x: auto; padding: 16px 0 24px;
    max-width: 640px; scrollbar-width: none;
  }
  .spread-carousel::-webkit-scrollbar { display: none; }
  .spread-option {
    flex-shrink: 0; width: 140px; padding: 16px 12px;
    text-align: center; cursor: pointer; transition: all 0.3s ease;
  }
  .spread-option.selected { border-color: var(--gold-dim); background: rgba(212, 175, 55, 0.06); }
  .spread-option .spread-icon {
    display: flex; justify-content: center; gap: 3px; margin-bottom: 10px; height: 40px; align-items: flex-end;
  }
  .spread-option .card-dot {
    width: 8px; border-radius: 2px; background: var(--gold-dim);
    transition: all 0.3s ease;
  }
  .spread-option.selected .card-dot { background: var(--gold); }
  .spread-option h4 { font-family: 'Cormorant Garamond', serif; font-size: 14px; margin-bottom: 4px; }
  .spread-option .card-count { font-size: 11px; color: var(--text-dim); }

  .begin-btn {
    margin-top: 16px; padding: 16px 48px; border: none; border-radius: 12px;
    background: linear-gradient(135deg, var(--gold), #b8941e);
    color: #0a0a12; font-family: 'Cormorant Garamond', serif;
    font-size: 18px; font-weight: 700; letter-spacing: 0.05em;
    cursor: pointer; transition: all 0.3s ease;
    box-shadow: 0 4px 20px rgba(212, 175, 55, 0.3);
  }
  .begin-btn:hover { transform: translateY(-2px); box-shadow: 0 8px 30px rgba(212, 175, 55, 0.4); }

  /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     SCENE 2: RITUAL
     â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
  .ritual-scene {
    display: flex; flex-direction: column; align-items: center; justify-content: center;
    min-height: 100vh; padding: 72px 24px 40px;
  }
  .deck-stack {
    position: relative; width: 140px; height: 200px; margin: 0 auto 40px;
    perspective: 1200px;
  }
  .deck-card {
    position: absolute; width: 140px; height: 200px;
    background: linear-gradient(145deg, #2a1f4a, #1a1235);
    border: 1px solid rgba(212, 175, 55, 0.2); border-radius: 10px;
    display: flex; align-items: center; justify-content: center;
    transition: transform 0.6s cubic-bezier(0.34, 1.56, 0.64, 1);
  }
  .deck-card .card-back-pattern {
    width: 80%; height: 80%; border: 1px solid rgba(212, 175, 55, 0.15);
    border-radius: 6px; display: flex; align-items: center; justify-content: center;
  }
  .deck-card .card-back-pattern::after {
    content: 'âœ¦'; font-size: 28px; color: var(--gold-dim);
  }
  .deck-card:nth-child(1) { transform: translateY(0) rotate(-1deg); z-index: 5; }
  .deck-card:nth-child(2) { transform: translateY(-3px) translateX(2px) rotate(0.5deg); z-index: 4; }
  .deck-card:nth-child(3) { transform: translateY(-6px) translateX(-1px) rotate(-0.3deg); z-index: 3; }
  .deck-card:nth-child(4) { transform: translateY(-9px) translateX(1px) rotate(0.8deg); z-index: 2; }
  .deck-card:nth-child(5) { transform: translateY(-12px) rotate(-0.5deg); z-index: 1; }

  .deck-stack.knocked .deck-card:nth-child(1) { animation: deckKnock 0.4s ease; }
  @keyframes deckKnock {
    0% { transform: translateY(0) rotate(-1deg); }
    30% { transform: translateY(-8px) rotate(-1deg); }
    60% { transform: translateY(2px) rotate(-1deg); }
    100% { transform: translateY(0) rotate(-1deg); }
  }

  .ritual-prompt {
    text-align: center; margin-top: 20px;
  }
  .ritual-prompt h2 { margin-bottom: 8px; color: var(--gold); }
  .ritual-prompt p { color: var(--text-secondary); font-size: 14px; }

  .knock-badges {
    display: flex; gap: 8px; justify-content: center; margin: 24px 0;
  }
  .knock-badge {
    width: 12px; height: 12px; border-radius: 50%;
    border: 1px solid var(--gold-dim); transition: all 0.3s ease;
  }
  .knock-badge.active {
    background: var(--gold); box-shadow: 0 0 10px rgba(212, 175, 55, 0.5);
  }

  .ritual-actions { display: flex; gap: 12px; margin-top: 16px; }
  .ritual-btn {
    padding: 14px 32px; border: 1px solid var(--glass-border); border-radius: 10px;
    background: var(--glass-bg); color: var(--text-primary);
    font-family: 'Cormorant Garamond', serif; font-size: 16px; font-weight: 600;
    cursor: pointer; transition: all 0.3s ease;
    backdrop-filter: blur(12px);
  }
  .ritual-btn:hover { border-color: var(--gold-dim); background: rgba(212, 175, 55, 0.08); }
  .ritual-btn.primary {
    background: linear-gradient(135deg, rgba(212, 175, 55, 0.15), rgba(212, 175, 55, 0.05));
    border-color: var(--gold-dim); color: var(--gold);
  }

  /* Ripple from knock */
  .knock-ripple {
    position: absolute; width: 200px; height: 200px; border-radius: 50%;
    border: 1px solid var(--gold-dim); top: 50%; left: 50%;
    transform: translate(-50%, -50%) scale(0.5);
    animation: rippleExpand 1.2s ease-out forwards; pointer-events: none;
  }
  @keyframes rippleExpand {
    to { transform: translate(-50%, -50%) scale(3); opacity: 0; }
  }

  /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     SCENE 3: REVEAL
     â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
  .reveal-scene { padding: 72px 16px 40px; position: relative; }
  .reveal-scene .scene-title {
    text-align: center; margin-bottom: 32px;
  }
  .reveal-scene .scene-title h2 { color: var(--gold); font-size: 1.5rem; margin-bottom: 4px; }
  .reveal-scene .scene-title p { color: var(--text-dim); font-size: 13px; }

  .spread-table {
    position: relative; max-width: 700px; margin: 0 auto; height: 520px;
  }
  .spread-slot {
    position: absolute; width: 100px; height: 150px;
    transition: all 0.5s cubic-bezier(0.34, 1.56, 0.64, 1);
  }
  .tarot-card {
    width: 100%; height: 100%; border-radius: 8px; cursor: pointer;
    position: relative; overflow: hidden;
    transition: transform 0.3s ease, box-shadow 0.3s ease;
  }
  .tarot-card:hover { transform: scale(1.08); z-index: 10; }

  .tarot-card.unrevealed {
    background: linear-gradient(145deg, #2a1f4a, #1a1235);
    border: 1px solid rgba(212, 175, 55, 0.15);
    display: flex; align-items: center; justify-content: center;
  }
  .tarot-card.unrevealed::before {
    content: 'âœ¦'; font-size: 24px; color: var(--gold-dim);
  }
  .tarot-card.unrevealed .slot-ring {
    position: absolute; inset: -4px; border-radius: 12px;
    border: 2px solid transparent; animation: slotPulse 2s ease-in-out infinite;
  }
  @keyframes slotPulse {
    0%, 100% { border-color: transparent; }
    50% { border-color: var(--gold-dim); box-shadow: 0 0 15px rgba(212, 175, 55, 0.15); }
  }

  .tarot-card.revealed {
    background: #1a1530; border: 1px solid rgba(212, 175, 55, 0.25);
    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.4), 0 0 30px rgba(212, 175, 55, 0.08);
  }
  .tarot-card.revealed .card-image {
    width: 100%; height: 100%; object-fit: cover; border-radius: 7px;
    filter: saturate(1.1);
  }
  .tarot-card.revealed .card-image-placeholder {
    width: 100%; height: 100%; border-radius: 7px;
    background: linear-gradient(180deg, #2a1f5a 0%, #1a1240 50%, #2a1f4a 100%);
    display: flex; flex-direction: column; align-items: center; justify-content: center;
    gap: 6px; padding: 8px;
  }
  .tarot-card.revealed .card-image-placeholder .card-numeral {
    font-family: 'Cormorant Garamond', serif; font-size: 24px; color: var(--gold); font-weight: 700;
  }
  .tarot-card.revealed .card-image-placeholder .card-suit {
    font-size: 18px;
  }
  .tarot-card .position-label {
    position: absolute; bottom: -22px; left: 50%; transform: translateX(-50%);
    font-size: 10px; color: var(--text-dim); white-space: nowrap;
    letter-spacing: 0.05em; text-transform: uppercase;
  }

  /* Bloom on reveal */
  .tarot-card.just-revealed::after {
    content: ''; position: absolute; inset: -20px; border-radius: 50%;
    background: radial-gradient(circle, var(--bloom-color) 0%, transparent 60%);
    animation: revealBloom 0.8s ease-out forwards; pointer-events: none;
  }
  @keyframes revealBloom {
    0% { opacity: 0; transform: scale(0.3); }
    40% { opacity: 1; }
    100% { opacity: 0; transform: scale(2); }
  }

  /* Card Info Popover */
  .card-popover {
    position: absolute; z-index: 100; width: 260px;
    padding: 16px; pointer-events: none;
    animation: popoverIn 0.2s ease;
  }
  @keyframes popoverIn {
    from { opacity: 0; transform: translateY(6px) scale(0.96); }
    to { opacity: 1; transform: translateY(0) scale(1); }
  }
  .card-popover .popover-inner {
    background: rgba(10, 8, 25, 0.88);
    backdrop-filter: blur(24px) saturate(1.3);
    border: 1px solid rgba(212, 175, 55, 0.15); border-radius: 14px;
    padding: 16px; position: relative;
  }
  .card-popover .popover-inner::before {
    content: ''; position: absolute; bottom: -6px; left: 50%; transform: translateX(-50%) rotate(45deg);
    width: 12px; height: 12px;
    background: rgba(10, 8, 25, 0.88); border-right: 1px solid rgba(212, 175, 55, 0.15);
    border-bottom: 1px solid rgba(212, 175, 55, 0.15);
  }
  .card-popover.below .popover-inner::before {
    top: -6px; bottom: auto;
    border-right: none; border-bottom: none;
    border-left: 1px solid rgba(212, 175, 55, 0.15);
    border-top: 1px solid rgba(212, 175, 55, 0.15);
  }
  .card-popover h3 { font-size: 16px; color: var(--gold); margin-bottom: 4px; }
  .card-popover .position-role { font-size: 11px; color: var(--text-dim); text-transform: uppercase; letter-spacing: 0.08em; margin-bottom: 10px; }
  .card-popover .keyword-pills { display: flex; flex-wrap: wrap; gap: 4px; margin-bottom: 10px; }
  .card-popover .pill {
    padding: 3px 10px; border-radius: 20px; font-size: 11px;
    background: rgba(212, 175, 55, 0.1); border: 1px solid rgba(212, 175, 55, 0.15);
    color: var(--gold);
  }
  .card-popover .meaning { font-size: 13px; line-height: 1.5; color: var(--text-secondary); }
  .element-icon { display: inline-flex; align-items: center; gap: 4px; font-size: 11px; color: var(--text-dim); margin-top: 8px; }
  .element-dot { width: 8px; height: 8px; border-radius: 50%; }
  .element-dot.fire { background: var(--amber); }
  .element-dot.water { background: var(--cyan); }
  .element-dot.air { background: var(--silver); }
  .element-dot.earth { background: var(--emerald); }

  /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     SCENE 4: INTERLUDE
     â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
  .interlude-scene {
    display: flex; flex-direction: column; align-items: center; justify-content: center;
    min-height: 100vh; padding: 72px 24px 40px; text-align: center;
  }
  .breathing-orb {
    width: 120px; height: 120px; border-radius: 50%; margin-bottom: 40px;
    background: radial-gradient(circle at 40% 40%, rgba(212, 175, 55, 0.3), rgba(99, 102, 241, 0.2), transparent);
    box-shadow: 0 0 60px rgba(212, 175, 55, 0.15), 0 0 120px rgba(99, 102, 241, 0.08);
    animation: orbBreathe 4s ease-in-out infinite;
  }
  @keyframes orbBreathe {
    0%, 100% { transform: scale(0.9); opacity: 0.7; }
    50% { transform: scale(1.1); opacity: 1; box-shadow: 0 0 80px rgba(212, 175, 55, 0.25), 0 0 150px rgba(99, 102, 241, 0.12); }
  }
  .constellation-dots {
    position: absolute; inset: 0; pointer-events: none;
  }
  .constellation-dot {
    position: absolute; width: 3px; height: 3px; border-radius: 50%;
    background: rgba(212, 175, 55, 0.4);
    animation: constFloat 8s ease-in-out infinite;
  }
  @keyframes constFloat {
    0%, 100% { opacity: 0.2; transform: translate(0, 0); }
    50% { opacity: 0.7; transform: translate(10px, -10px); }
  }
  .progress-ring {
    width: 48px; height: 48px; margin: 24px auto;
  }
  .progress-ring circle {
    fill: none; stroke-width: 2; stroke-linecap: round;
  }
  .progress-ring .track { stroke: rgba(255,255,255,0.06); }
  .progress-ring .fill { stroke: var(--gold); stroke-dasharray: 126; stroke-dashoffset: 40; transition: stroke-dashoffset 2s ease; }
  .interlude-status {
    font-size: 14px; color: var(--text-secondary); margin-top: 16px;
    animation: statusFade 3.5s ease-in-out infinite;
  }
  @keyframes statusFade {
    0%, 100% { opacity: 0.5; }
    50% { opacity: 1; }
  }
  .interlude-phase-steps {
    display: flex; gap: 24px; margin-top: 32px;
  }
  .phase-step { display: flex; align-items: center; gap: 8px; font-size: 12px; }
  .phase-step .step-dot { width: 8px; height: 8px; border-radius: 50%; border: 1px solid var(--gold-dim); }
  .phase-step.done .step-dot { background: var(--gold); border-color: var(--gold); }
  .phase-step.active .step-dot { background: var(--gold); animation: stepPulse 1.5s ease-in-out infinite; }
  @keyframes stepPulse { 0%, 100% { box-shadow: 0 0 0 0 rgba(212, 175, 55, 0.4); } 50% { box-shadow: 0 0 0 6px transparent; } }
  .phase-step.done { color: var(--gold); }
  .phase-step.active { color: var(--text-primary); }
  .phase-step.pending { color: var(--text-dim); }

  /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     SCENE 5: NARRATIVE
     â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
  .narrative-scene { position: relative; min-height: 100vh; padding: 72px 0 40px; }
  .narrative-hero-bg {
    position: fixed; inset: 0; z-index: 0;
    background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 800 600"><defs><radialGradient id="g1"><stop offset="0%" stop-color="%23483D8B" stop-opacity="0.3"/><stop offset="50%" stop-color="%231a1235" stop-opacity="0.6"/><stop offset="100%" stop-color="%230a0a12" stop-opacity="1"/></radialGradient></defs><rect width="800" height="600" fill="url(%23g1)"/><circle cx="300" cy="200" r="100" fill="%23d4af37" opacity="0.04"/><circle cx="500" cy="400" r="150" fill="%236366f1" opacity="0.03"/></svg>') center/cover no-repeat;
    opacity: 0.5; filter: blur(20px);
  }
  .narrative-atmosphere {
    position: absolute; inset: 0; pointer-events: none; z-index: 1;
    background: radial-gradient(ellipse at 50% 30%, rgba(212, 175, 55, 0.06) 0%, transparent 60%);
    opacity: 0.15;
  }
  .narrative-content {
    position: relative; z-index: 2; max-width: 680px; margin: 0 auto; padding: 0 24px;
  }
  .miniature-spread {
    display: flex; justify-content: center; gap: 6px; margin-bottom: 32px;
    padding: 12px 16px; border-radius: 12px;
    background: rgba(15, 12, 30, 0.5); border: 1px solid var(--glass-border);
    width: fit-content; margin-left: auto; margin-right: auto;
  }
  .mini-card {
    width: 24px; height: 36px; border-radius: 3px;
    background: linear-gradient(145deg, #2a1f5a, #1a1240);
    border: 1px solid rgba(212, 175, 55, 0.2);
    transition: all 0.3s ease;
  }
  .mini-card.highlight {
    border-color: var(--gold); box-shadow: 0 0 10px rgba(212, 175, 55, 0.3);
    animation: miniGlow 0.8s ease-out;
  }
  @keyframes miniGlow { 0% { box-shadow: 0 0 20px rgba(212, 175, 55, 0.5); } 100% { box-shadow: 0 0 10px rgba(212, 175, 55, 0.3); } }

  .narrative-text-panel {
    padding: 32px; margin-bottom: 32px;
  }
  .narrative-text-panel h2 {
    font-size: 1.5rem; color: var(--gold); margin-bottom: 20px;
    padding-bottom: 12px; border-bottom: 1px solid rgba(212, 175, 55, 0.1);
  }
  .narrative-text {
    font-size: 16px; line-height: 1.8; color: var(--text-primary);
    letter-spacing: 0.01em;
  }
  .narrative-text .word {
    display: inline; opacity: 0;
    animation: wordReveal 0.4s ease forwards;
  }
  @keyframes wordReveal {
    from { opacity: 0; filter: blur(4px); transform: translateY(4px); }
    to { opacity: 1; filter: blur(0); transform: translateY(0); }
  }
  .narrative-text .card-mention {
    color: var(--gold); font-weight: 500;
    text-decoration: underline; text-decoration-color: var(--gold-dim);
    text-underline-offset: 3px;
  }
  .section-divider {
    height: 2px; margin: 32px 0;
    background: linear-gradient(90deg, transparent, var(--gold-dim), transparent);
    position: relative;
  }
  .section-divider::after {
    content: 'âœ¦'; position: absolute; top: 50%; left: 50%;
    transform: translate(-50%, -50%); font-size: 12px; color: var(--gold-dim);
    background: var(--glass-bg); padding: 0 12px;
  }

  /* TTS Controls */
  .tts-controls {
    display: flex; align-items: center; gap: 12px; padding: 12px 16px;
    border-radius: 12px; width: fit-content; margin: 0 auto 24px;
  }
  .tts-btn {
    width: 36px; height: 36px; border-radius: 50%; border: 1px solid var(--glass-border);
    background: var(--glass-bg-light); color: var(--text-primary);
    display: flex; align-items: center; justify-content: center;
    cursor: pointer; font-size: 14px; transition: all 0.2s ease;
  }
  .tts-btn:hover { border-color: var(--gold-dim); color: var(--gold); }
  .tts-progress { width: 160px; height: 3px; border-radius: 2px; background: rgba(255,255,255,0.06); }
  .tts-progress-fill { height: 100%; width: 35%; border-radius: 2px; background: var(--gold); transition: width 0.3s linear; }

  /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     SCENE 6: COMPLETE
     â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
  .complete-scene { padding: 72px 16px 60px; }
  .complete-header {
    text-align: center; margin-bottom: 40px;
  }
  .complete-header h2 { color: var(--gold); margin-bottom: 8px; }

  .media-gallery {
    max-width: 800px; margin: 0 auto 40px;
  }
  .media-gallery h3 { margin-bottom: 16px; color: var(--text-secondary); font-size: 14px; text-transform: uppercase; letter-spacing: 0.1em; }
  .gallery-grid {
    display: grid; grid-template-columns: repeat(auto-fill, minmax(200px, 1fr)); gap: 12px;
  }
  .gallery-item {
    aspect-ratio: 3/4; border-radius: 12px; overflow: hidden; position: relative;
    cursor: pointer; transition: transform 0.3s ease;
  }
  .gallery-item:hover { transform: scale(1.03); }
  .gallery-item .gallery-placeholder {
    width: 100%; height: 100%;
    display: flex; flex-direction: column; align-items: center; justify-content: center; gap: 8px;
    background: linear-gradient(135deg, #1a1240, #231a50);
    border: 1px solid var(--glass-border);
  }
  .gallery-item .gallery-label { font-size: 11px; color: var(--text-dim); text-transform: uppercase; letter-spacing: 0.08em; }
  .gallery-item .play-icon {
    position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%);
    width: 48px; height: 48px; border-radius: 50%;
    background: rgba(0, 0, 0, 0.6); border: 2px solid var(--gold-dim);
    display: flex; align-items: center; justify-content: center;
    font-size: 18px; color: var(--gold);
  }
  .gallery-item.video .gallery-placeholder {
    background: linear-gradient(135deg, #1a1030, #0f0a25);
  }

  /* Lightbox */
  .lightbox {
    position: fixed; inset: 0; z-index: 2000;
    background: rgba(0, 0, 0, 0.92); backdrop-filter: blur(30px);
    display: flex; align-items: center; justify-content: center;
    animation: lightboxIn 0.4s ease;
  }
  @keyframes lightboxIn { from { opacity: 0; } to { opacity: 1; } }
  .lightbox-content {
    max-width: 90vw; max-height: 80vh; border-radius: 16px; overflow: hidden;
    box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5), 0 0 40px rgba(212, 175, 55, 0.1);
    position: relative;
  }
  .lightbox-close {
    position: absolute; top: 16px; right: 16px; width: 36px; height: 36px;
    border-radius: 50%; border: 1px solid rgba(255,255,255,0.2);
    background: rgba(0,0,0,0.5); color: white; font-size: 18px;
    cursor: pointer; display: flex; align-items: center; justify-content: center;
    z-index: 10;
  }
  .lightbox-actions {
    position: absolute; bottom: 16px; left: 50%; transform: translateX(-50%);
    display: flex; gap: 8px;
  }
  .lightbox-action {
    padding: 8px 16px; border-radius: 8px; border: 1px solid rgba(255,255,255,0.15);
    background: rgba(0,0,0,0.6); color: var(--text-primary); font-size: 12px;
    cursor: pointer; backdrop-filter: blur(8px);
  }

  /* Actions bar */
  .complete-actions {
    display: flex; gap: 12px; justify-content: center; flex-wrap: wrap;
    max-width: 600px; margin: 32px auto;
  }
  .action-btn {
    padding: 12px 24px; border-radius: 10px;
    font-family: 'Inter', sans-serif; font-size: 13px; font-weight: 500;
    cursor: pointer; transition: all 0.3s ease;
  }
  .action-btn.primary {
    background: linear-gradient(135deg, rgba(212, 175, 55, 0.2), rgba(212, 175, 55, 0.08));
    border: 1px solid var(--gold-dim); color: var(--gold);
  }
  .action-btn.secondary {
    background: var(--glass-bg-light); border: 1px solid var(--glass-border); color: var(--text-secondary);
  }
  .action-btn:hover { transform: translateY(-1px); }

  /* Video Takeover */
  .video-takeover {
    position: fixed; inset: 0; z-index: 3000;
    background: rgba(0, 0, 0, 0.95);
    display: flex; align-items: center; justify-content: center;
    animation: takeoverIn 0.6s cubic-bezier(0.34, 1.56, 0.64, 1);
  }
  @keyframes takeoverIn {
    from { opacity: 0; }
    to { opacity: 1; }
  }
  .video-takeover .takeover-card {
    width: 300px; height: 440px; border-radius: 16px; overflow: hidden;
    box-shadow: 0 0 80px rgba(212, 175, 55, 0.2), 0 20px 60px rgba(0,0,0,0.5);
    border: 2px solid rgba(212, 175, 55, 0.3);
    animation: cardScaleIn 0.8s cubic-bezier(0.34, 1.56, 0.64, 1);
    position: relative;
  }
  @keyframes cardScaleIn {
    from { transform: scale(0.3); opacity: 0; }
    to { transform: scale(1); opacity: 1; }
  }
  .takeover-card .video-placeholder {
    width: 100%; height: 100%;
    background: linear-gradient(180deg, #2a1f5a 0%, #1a1240 40%, #0f0a25 100%);
    display: flex; flex-direction: column; align-items: center; justify-content: center; gap: 12px;
  }
  .takeover-card .video-placeholder .card-name {
    font-family: 'Cormorant Garamond', serif; font-size: 20px; color: var(--gold);
  }
  .takeover-card .video-placeholder .card-numeral-large {
    font-family: 'Cormorant Garamond', serif; font-size: 48px; color: var(--gold); font-weight: 700;
  }
  .video-label {
    position: absolute; bottom: 24px; left: 50%; transform: translateX(-50%);
    font-size: 12px; color: var(--text-dim); text-transform: uppercase; letter-spacing: 0.1em;
    background: rgba(0,0,0,0.6); padding: 6px 16px; border-radius: 20px;
  }

  .takeover-close {
    position: fixed; top: 24px; right: 24px; z-index: 3001;
    width: 44px; height: 44px; border-radius: 50%;
    border: 1px solid rgba(255,255,255,0.15); background: rgba(0,0,0,0.5);
    color: white; font-size: 20px; cursor: pointer;
    display: flex; align-items: center; justify-content: center;
  }

  /* â”€â”€â”€ Responsive â”€â”€â”€ */
  @media (max-width: 640px) {
    .scene-nav button { font-size: 9px; padding: 8px 4px; }
    h1 { font-size: 1.75rem; }
    .spread-table { height: 420px; }
    .spread-slot { width: 70px; height: 105px; }
    .gallery-grid { grid-template-columns: repeat(2, 1fr); }
    .narrative-text-panel { padding: 20px; }
    .card-popover { width: 220px; }
    .video-takeover .takeover-card { width: 240px; height: 360px; }
  }
</style>
</head>
<body>

<!-- â”€â”€ Scene Navigation â”€â”€ -->
<nav class="scene-nav">
  <button class="active" onclick="showScene('idle')">Idle</button>
  <button onclick="showScene('ritual')">Ritual</button>
  <button onclick="showScene('reveal')">Reveal</button>
  <button onclick="showScene('interlude')">Interlude</button>
  <button onclick="showScene('narrative')">Narrative</button>
  <button onclick="showScene('complete')">Complete</button>
</nav>

<div class="mockup-label">Design Mockup</div>

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     SCENE 1: IDLE
     â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<section id="scene-idle" class="scene idle-scene active">
  <div class="particle-field" id="idle-particles"></div>
  <div class="bloom" style="width: 400px; height: 400px; top: 20%; left: 30%;"></div>
  <div class="bloom" style="width: 300px; height: 300px; top: 60%; right: 20%; background: radial-gradient(circle, rgba(99, 102, 241, 0.15) 0%, transparent 70%);"></div>

  <div class="moon-phase"></div>
  <h1 style="margin-bottom: 8px;">What calls to you?</h1>
  <p class="text-secondary" style="max-width: 400px; font-size: 14px; line-height: 1.5;">Open your question to the cards. Avoid yes/no â€” ask how, what, or why.</p>

  <input class="question-input" type="text" placeholder="How can I move forward with clarityâ€¦" />

  <div class="spread-carousel">
    <div class="spread-option glass-card" onclick="selectSpread(this)">
      <div class="spread-icon"><div class="card-dot" style="height: 32px;"></div></div>
      <h4>One Card</h4>
      <div class="card-count">1 card</div>
    </div>
    <div class="spread-option glass-card selected" onclick="selectSpread(this)">
      <div class="spread-icon">
        <div class="card-dot" style="height: 24px;"></div>
        <div class="card-dot" style="height: 32px;"></div>
        <div class="card-dot" style="height: 24px;"></div>
      </div>
      <h4>Three Card</h4>
      <div class="card-count">3 cards</div>
    </div>
    <div class="spread-option glass-card" onclick="selectSpread(this)">
      <div class="spread-icon">
        <div class="card-dot" style="height: 20px;"></div>
        <div class="card-dot" style="height: 28px;"></div>
        <div class="card-dot" style="height: 32px;"></div>
        <div class="card-dot" style="height: 28px;"></div>
        <div class="card-dot" style="height: 20px;"></div>
      </div>
      <h4>Five Card</h4>
      <div class="card-count">5 cards</div>
    </div>
    <div class="spread-option glass-card" onclick="selectSpread(this)">
      <div class="spread-icon">
        <div class="card-dot" style="height: 16px;"></div>
        <div class="card-dot" style="height: 20px;"></div>
        <div class="card-dot" style="height: 28px;"></div>
        <div class="card-dot" style="height: 32px;"></div>
        <div class="card-dot" style="height: 28px;"></div>
        <div class="card-dot" style="height: 24px;"></div>
        <div class="card-dot" style="height: 20px;"></div>
        <div class="card-dot" style="height: 16px;"></div>
        <div class="card-dot" style="height: 12px;"></div>
        <div class="card-dot" style="height: 8px;"></div>
      </div>
      <h4>Celtic Cross</h4>
      <div class="card-count">10 cards</div>
    </div>
  </div>

  <button class="begin-btn" onclick="showScene('ritual')">Begin the Reading</button>
</section>

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     SCENE 2: RITUAL
     â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<section id="scene-ritual" class="scene ritual-scene">
  <div class="particle-field" id="ritual-particles"></div>
  <div class="bloom" style="width: 300px; height: 300px; top: 30%; left: 50%; transform: translateX(-50%);"></div>

  <div class="ritual-prompt">
    <h2>Knock Three Times</h2>
    <p>Claim your intention. Tap the deck to begin.</p>
  </div>

  <div class="deck-stack" id="deck-stack" onclick="knockDeck()">
    <div class="deck-card"><div class="card-back-pattern"></div></div>
    <div class="deck-card"><div class="card-back-pattern"></div></div>
    <div class="deck-card"><div class="card-back-pattern"></div></div>
    <div class="deck-card"><div class="card-back-pattern"></div></div>
    <div class="deck-card"><div class="card-back-pattern"></div></div>
  </div>

  <div class="knock-badges">
    <div class="knock-badge active" id="knock-1"></div>
    <div class="knock-badge" id="knock-2"></div>
    <div class="knock-badge" id="knock-3"></div>
  </div>

  <div class="ritual-actions">
    <button class="ritual-btn" onclick="showScene('idle')">â† Back</button>
    <button class="ritual-btn primary" onclick="showScene('reveal')">Deal the Cards â†’</button>
  </div>
</section>

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     SCENE 3: REVEAL
     â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<section id="scene-reveal" class="scene reveal-scene">
  <div class="particle-field" id="reveal-particles"></div>

  <div class="scene-title">
    <h2>Three-Card Story</h2>
    <p>Hover a card to see its meaning</p>
  </div>

  <div class="spread-table">
    <!-- Past -->
    <div class="spread-slot" style="left: 12%; top: 50%; transform: translateY(-50%);">
      <div class="tarot-card revealed just-revealed" onmouseenter="showPopover(this, 'above', 'The Moon', 'Past', ['Illusion', 'Intuition', 'Fear'], 'Trust what lies beneath the surface. Hidden truths are emerging.', 'water')" onmouseleave="hidePopover(this)">
        <div class="card-image-placeholder">
          <div class="card-numeral">XVIII</div>
          <div class="card-suit" style="color: var(--cyan);">â˜½</div>
          <div style="font-size: 11px; color: var(--text-dim); margin-top: 4px;">The Moon</div>
        </div>
        <div class="position-label">Past</div>
      </div>
    </div>

    <!-- Present (center) -->
    <div class="spread-slot" style="left: 50%; top: 50%; transform: translate(-50%, -50%);">
      <div class="tarot-card revealed" onmouseenter="showPopover(this, 'above', 'The Tower', 'Present', ['Upheaval', 'Awakening', 'Liberation'], 'Structures crumble to make way for truth. Embrace the clearing.', 'fire')" onmouseleave="hidePopover(this)" onclick="showVideoTakeover()">
        <div class="card-image-placeholder">
          <div class="card-numeral">XVI</div>
          <div class="card-suit" style="color: var(--amber);">ğŸ—¼</div>
          <div style="font-size: 11px; color: var(--text-dim); margin-top: 4px;">The Tower</div>
        </div>
        <div class="position-label">Present</div>
      </div>
    </div>

    <!-- Future -->
    <div class="spread-slot" style="right: 12%; top: 50%; transform: translateY(-50%);">
      <div class="tarot-card unrevealed" onclick="revealCard(this)">
        <div class="slot-ring"></div>
        <div class="position-label">Future</div>
      </div>
    </div>
  </div>

  <div style="text-align: center; margin-top: 60px;">
    <button class="ritual-btn primary" onclick="showScene('interlude')" style="margin-top: 16px;">Generate Reading â†’</button>
  </div>

  <!-- Popover template (hidden, moved by JS) -->
  <div class="card-popover" id="card-popover" style="display: none;">
    <div class="popover-inner">
      <h3 id="popover-name"></h3>
      <div class="position-role" id="popover-position"></div>
      <div class="keyword-pills" id="popover-keywords"></div>
      <div class="meaning" id="popover-meaning"></div>
      <div class="element-icon" id="popover-element"></div>
    </div>
  </div>
</section>

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     SCENE 4: INTERLUDE
     â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<section id="scene-interlude" class="scene interlude-scene">
  <div class="particle-field" id="interlude-particles"></div>

  <div class="constellation-dots">
    <div class="constellation-dot" style="top: 15%; left: 20%; animation-delay: 0s;"></div>
    <div class="constellation-dot" style="top: 25%; left: 60%; animation-delay: 1.2s;"></div>
    <div class="constellation-dot" style="top: 45%; left: 35%; animation-delay: 0.6s;"></div>
    <div class="constellation-dot" style="top: 55%; left: 70%; animation-delay: 2s;"></div>
    <div class="constellation-dot" style="top: 70%; left: 25%; animation-delay: 1.8s;"></div>
    <div class="constellation-dot" style="top: 80%; left: 55%; animation-delay: 0.3s;"></div>
    <div class="constellation-dot" style="top: 35%; left: 80%; animation-delay: 1.5s;"></div>
    <div class="constellation-dot" style="top: 20%; left: 45%; animation-delay: 2.5s;"></div>
    <div class="constellation-dot" style="top: 65%; left: 48%; animation-delay: 0.9s;"></div>
  </div>

  <div class="breathing-orb"></div>

  <h2 style="margin-bottom: 8px;">Weaving Your Reading</h2>

  <svg class="progress-ring" viewBox="0 0 48 48">
    <circle class="track" cx="24" cy="24" r="20" />
    <circle class="fill" cx="24" cy="24" r="20" transform="rotate(-90 24 24)" />
  </svg>

  <div class="interlude-status">Sensing the connections between your cardsâ€¦</div>

  <div class="interlude-phase-steps">
    <div class="phase-step done">
      <div class="step-dot"></div>
      <span>Reading Cards</span>
    </div>
    <div class="phase-step active">
      <div class="step-dot"></div>
      <span>Finding Patterns</span>
    </div>
    <div class="phase-step pending">
      <div class="step-dot"></div>
      <span>Weaving Narrative</span>
    </div>
  </div>

  <button class="ritual-btn" onclick="showScene('narrative')" style="margin-top: 48px; opacity: 0.5;">Skip â†’</button>
</section>

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     SCENE 5: NARRATIVE
     â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<section id="scene-narrative" class="scene narrative-scene">
  <div class="narrative-hero-bg"></div>
  <div class="narrative-atmosphere"></div>
  <div class="particle-field" id="narrative-particles"></div>

  <div class="narrative-content">
    <div class="miniature-spread">
      <div class="mini-card" id="mini-1"></div>
      <div class="mini-card highlight" id="mini-2"></div>
      <div class="mini-card" id="mini-3"></div>
    </div>

    <div class="tts-controls glass-card">
      <button class="tts-btn">â–¶</button>
      <div class="tts-progress"><div class="tts-progress-fill"></div></div>
      <span style="font-size: 11px; color: var(--text-dim);">2:34</span>
    </div>

    <div class="narrative-text-panel glass-dark">
      <h2>Your Three-Card Story</h2>
      <div class="narrative-text" id="narrative-stream">
        <!-- Words animate in one by one -->
      </div>

      <div class="section-divider"></div>

      <h3 style="color: var(--gold); margin-bottom: 12px; font-size: 1.1rem;">The Present: <span class="card-mention">The Tower</span></h3>
      <div class="narrative-text">
        <span class="word" style="animation-delay: 0s;">The</span>
        <span class="word" style="animation-delay: 0.05s;">Tower</span>
        <span class="word" style="animation-delay: 0.1s;">stands</span>
        <span class="word" style="animation-delay: 0.15s;">at</span>
        <span class="word" style="animation-delay: 0.2s;">the</span>
        <span class="word" style="animation-delay: 0.25s;">heart</span>
        <span class="word" style="animation-delay: 0.3s;">of</span>
        <span class="word" style="animation-delay: 0.35s;">your</span>
        <span class="word" style="animation-delay: 0.4s;">reading,</span>
        <span class="word" style="animation-delay: 0.45s;">a</span>
        <span class="word" style="animation-delay: 0.5s;">bolt</span>
        <span class="word" style="animation-delay: 0.55s;">of</span>
        <span class="word" style="animation-delay: 0.6s;">lightning</span>
        <span class="word" style="animation-delay: 0.65s;">illuminating</span>
        <span class="word" style="animation-delay: 0.7s;">what</span>
        <span class="word" style="animation-delay: 0.75s;">was</span>
        <span class="word" style="animation-delay: 0.8s;">hidden.</span>
        <span class="word" style="animation-delay: 0.9s;">The</span>
        <span class="word" style="animation-delay: 0.95s;">structures</span>
        <span class="word" style="animation-delay: 1.0s;">you've</span>
        <span class="word" style="animation-delay: 1.05s;">built</span>
        <span class="word" style="animation-delay: 1.1s;">â€”</span>
        <span class="word" style="animation-delay: 1.15s;">beliefs,</span>
        <span class="word" style="animation-delay: 1.2s;">roles,</span>
        <span class="word" style="animation-delay: 1.25s;">certainties</span>
        <span class="word" style="animation-delay: 1.3s;">â€”</span>
        <span class="word" style="animation-delay: 1.35s;">are</span>
        <span class="word" style="animation-delay: 1.4s;">meeting</span>
        <span class="word" style="animation-delay: 1.45s;">a</span>
        <span class="word" style="animation-delay: 1.5s;">force</span>
        <span class="word" style="animation-delay: 1.55s;">greater</span>
        <span class="word" style="animation-delay: 1.6s;">than</span>
        <span class="word" style="animation-delay: 1.65s;">your</span>
        <span class="word" style="animation-delay: 1.7s;">willingness</span>
        <span class="word" style="animation-delay: 1.75s;">to</span>
        <span class="word" style="animation-delay: 1.8s;">hold</span>
        <span class="word" style="animation-delay: 1.85s;">them</span>
        <span class="word" style="animation-delay: 1.9s;">up.</span>
        <span class="word" style="animation-delay: 1.95s;">This</span>
        <span class="word" style="animation-delay: 2.0s;">is</span>
        <span class="word" style="animation-delay: 2.05s;">not</span>
        <span class="word" style="animation-delay: 2.1s;">punishment</span>
        <span class="word" style="animation-delay: 2.15s;">â€”</span>
        <span class="word" style="animation-delay: 2.2s;">it</span>
        <span class="word" style="animation-delay: 2.25s;">is</span>
        <span class="word" style="animation-delay: 2.3s;"><span class="card-mention">liberation</span>.</span>
      </div>
    </div>

    <button class="ritual-btn primary" onclick="showScene('complete')" style="display: block; margin: 24px auto;">View Complete Reading â†’</button>
  </div>
</section>

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     SCENE 6: COMPLETE
     â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<section id="scene-complete" class="scene complete-scene">
  <div class="particle-field" id="complete-particles"></div>

  <div class="complete-header">
    <h2>Your Reading is Complete</h2>
    <p class="text-secondary">Three-Card Story Â· February 7, 2026</p>
  </div>

  <!-- Mini spread recap -->
  <div style="max-width: 600px; margin: 0 auto 40px;">
    <div style="display: flex; gap: 16px; justify-content: center;">
      <div class="glass-card" style="padding: 16px; text-align: center; flex: 1; max-width: 160px;">
        <div style="font-family: 'Cormorant Garamond', serif; font-size: 28px; color: var(--gold); margin-bottom: 4px;">XVIII</div>
        <div style="font-size: 13px; font-weight: 500; margin-bottom: 2px;">The Moon</div>
        <div style="font-size: 11px; color: var(--text-dim); text-transform: uppercase; letter-spacing: 0.06em;">Past</div>
      </div>
      <div class="glass-card" style="padding: 16px; text-align: center; flex: 1; max-width: 160px; border-color: var(--gold-dim);">
        <div style="font-family: 'Cormorant Garamond', serif; font-size: 28px; color: var(--gold); margin-bottom: 4px;">XVI</div>
        <div style="font-size: 13px; font-weight: 500; margin-bottom: 2px;">The Tower</div>
        <div style="font-size: 11px; color: var(--text-dim); text-transform: uppercase; letter-spacing: 0.06em;">Present</div>
      </div>
      <div class="glass-card" style="padding: 16px; text-align: center; flex: 1; max-width: 160px;">
        <div style="font-family: 'Cormorant Garamond', serif; font-size: 28px; color: var(--gold); margin-bottom: 4px;">XVII</div>
        <div style="font-size: 13px; font-weight: 500; margin-bottom: 2px;">The Star</div>
        <div style="font-size: 11px; color: var(--text-dim); text-transform: uppercase; letter-spacing: 0.06em;">Future</div>
      </div>
    </div>
  </div>

  <!-- Media Gallery -->
  <div class="media-gallery">
    <h3>Generated Media</h3>
    <div class="gallery-grid">
      <div class="gallery-item" onclick="showLightbox()">
        <div class="gallery-placeholder">
          <div style="font-size: 32px;">ğŸ¨</div>
          <div class="gallery-label">Story Art â€” Watercolor</div>
        </div>
      </div>
      <div class="gallery-item video" onclick="showVideoTakeover()">
        <div class="gallery-placeholder">
          <div style="font-size: 32px;">ğŸ¬</div>
          <div class="gallery-label">The Tower â€” Reveal</div>
          <div class="play-icon">â–¶</div>
        </div>
      </div>
      <div class="gallery-item">
        <div class="gallery-placeholder">
          <div style="font-size: 32px;">ğŸ–¼ï¸</div>
          <div class="gallery-label">Story Art â€” Nouveau</div>
        </div>
      </div>
      <div class="gallery-item video">
        <div class="gallery-placeholder">
          <div style="font-size: 32px;">ğŸ¬</div>
          <div class="gallery-label">The Moon â€” Reveal</div>
          <div class="play-icon">â–¶</div>
        </div>
      </div>
    </div>
  </div>

  <!-- Actions -->
  <div class="complete-actions">
    <button class="action-btn primary">ğŸ’¬ Ask a Follow-Up</button>
    <button class="action-btn primary">ğŸ“– Save to Journal</button>
    <button class="action-btn secondary">ğŸ”— Share Reading</button>
    <button class="action-btn secondary">â¬‡ Download</button>
    <button class="action-btn secondary" onclick="showScene('idle')">ğŸ”„ New Reading</button>
  </div>
</section>

<!-- â•â•â• Lightbox (hidden) â•â•â• -->
<div class="lightbox" id="lightbox" style="display: none;" onclick="hideLightbox()">
  <div class="lightbox-content" onclick="event.stopPropagation()">
    <button class="lightbox-close" onclick="hideLightbox()">âœ•</button>
    <div style="width: 500px; height: 660px; background: linear-gradient(135deg, #2a1f6a, #1a1240, #0f0a30); display: flex; flex-direction: column; align-items: center; justify-content: center; gap: 12px;">
      <div style="font-size: 64px;">ğŸ¨</div>
      <div style="font-family: 'Cormorant Garamond', serif; font-size: 20px; color: var(--gold);">Story Illustration</div>
      <div style="font-size: 13px; color: var(--text-dim);">Watercolor Â· Three-Card Story</div>
    </div>
    <div class="lightbox-actions">
      <button class="lightbox-action">â¬‡ Download</button>
      <button class="lightbox-action">ğŸ”— Share</button>
      <button class="lightbox-action">ğŸ“– Add to Journal</button>
    </div>
  </div>
</div>

<!-- â•â•â• Video Takeover (hidden) â•â•â• -->
<div class="video-takeover" id="video-takeover" style="display: none;" onclick="hideVideoTakeover()">
  <button class="takeover-close" onclick="hideVideoTakeover()">âœ•</button>
  <div class="takeover-card" onclick="event.stopPropagation()">
    <div class="video-placeholder">
      <div class="card-numeral-large">XVI</div>
      <div class="card-name">The Tower</div>
      <div style="font-size: 12px; color: var(--text-dim); margin-top: 20px;">â–¶ Cinematic Reveal</div>
    </div>
    <div class="video-label">Sora-2 Â· Mystical Style</div>
  </div>
</div>

<script>
// â”€â”€ Scene switching â”€â”€
function showScene(id) {
  document.querySelectorAll('.scene').forEach(s => s.classList.remove('active'));
  document.getElementById('scene-' + id).classList.add('active');
  document.querySelectorAll('.scene-nav button').forEach((btn, i) => {
    const scenes = ['idle', 'ritual', 'reveal', 'interlude', 'narrative', 'complete'];
    btn.classList.toggle('active', scenes[i] === id);
  });
  window.scrollTo({ top: 0, behavior: 'smooth' });
}

// â”€â”€ Spread selection â”€â”€
function selectSpread(el) {
  document.querySelectorAll('.spread-option').forEach(s => s.classList.remove('selected'));
  el.classList.add('selected');
}

// â”€â”€ Knock â”€â”€
let knockCount = 1;
function knockDeck() {
  if (knockCount >= 3) return;
  knockCount++;
  const deck = document.getElementById('deck-stack');
  deck.classList.remove('knocked');
  void deck.offsetWidth;
  deck.classList.add('knocked');
  document.getElementById('knock-' + knockCount).classList.add('active');

  // Add ripple
  const ripple = document.createElement('div');
  ripple.className = 'knock-ripple';
  deck.appendChild(ripple);
  setTimeout(() => ripple.remove(), 1200);
}

// â”€â”€ Card reveal â”€â”€
function revealCard(el) {
  el.classList.remove('unrevealed');
  el.classList.add('revealed', 'just-revealed');
  el.innerHTML = `
    <div class="card-image-placeholder">
      <div class="card-numeral">XVII</div>
      <div class="card-suit" style="color: var(--cyan);">â­</div>
      <div style="font-size: 11px; color: var(--text-dim); margin-top: 4px;">The Star</div>
    </div>
    <div class="position-label">Future</div>
  `;
  el.setAttribute('onmouseenter', "showPopover(this, 'above', 'The Star', 'Future', ['Hope', 'Renewal', 'Serenity'], 'After the storm, the star shines. Healing and inspiration await you.', 'water')");
  el.setAttribute('onmouseleave', 'hidePopover(this)');
  setTimeout(() => el.classList.remove('just-revealed'), 800);
}

// â”€â”€ Card popover â”€â”€
function showPopover(cardEl, pos, name, position, keywords, meaning, element) {
  const popover = document.getElementById('card-popover');
  document.getElementById('popover-name').textContent = name;
  document.getElementById('popover-position').textContent = position + ' Position';

  const kwContainer = document.getElementById('popover-keywords');
  kwContainer.innerHTML = keywords.map(k => `<span class="pill">${k}</span>`).join('');

  document.getElementById('popover-meaning').textContent = meaning;

  const elColors = { fire: 'var(--amber)', water: 'var(--cyan)', air: 'var(--silver)', earth: 'var(--emerald)' };
  const elNames = { fire: 'Fire', water: 'Water', air: 'Air', earth: 'Earth' };
  document.getElementById('popover-element').innerHTML =
    `<span class="element-dot ${element}"></span> ${elNames[element]} Element`;

  const rect = cardEl.getBoundingClientRect();
  const scrollY = window.scrollY;
  popover.style.display = 'block';
  popover.style.left = (rect.left + rect.width / 2 - 130) + 'px';

  if (pos === 'above') {
    popover.style.top = (rect.top + scrollY - 200) + 'px';
    popover.className = 'card-popover above';
  } else {
    popover.style.top = (rect.bottom + scrollY + 8) + 'px';
    popover.className = 'card-popover below';
  }
}

function hidePopover() {
  document.getElementById('card-popover').style.display = 'none';
}

// â”€â”€ Lightbox â”€â”€
function showLightbox() { document.getElementById('lightbox').style.display = 'flex'; }
function hideLightbox() { document.getElementById('lightbox').style.display = 'none'; }

// â”€â”€ Video takeover â”€â”€
function showVideoTakeover() { document.getElementById('video-takeover').style.display = 'flex'; }
function hideVideoTakeover() { document.getElementById('video-takeover').style.display = 'none'; }

// â”€â”€ Generate particles â”€â”€
function createParticles(containerId, count, colors) {
  const container = document.getElementById(containerId);
  if (!container) return;
  for (let i = 0; i < count; i++) {
    const p = document.createElement('div');
    const color = colors[Math.floor(Math.random() * colors.length)];
    const size = 2 + Math.random() * 3;
    p.className = `particle ${color}`;
    p.style.width = size + 'px';
    p.style.height = size + 'px';
    p.style.left = Math.random() * 100 + '%';
    p.style.bottom = -(Math.random() * 20) + '%';
    p.style.animationDuration = (8 + Math.random() * 12) + 's';
    p.style.animationDelay = Math.random() * 10 + 's';
    container.appendChild(p);
  }
}

createParticles('idle-particles', 20, ['gold', 'violet']);
createParticles('ritual-particles', 15, ['gold', 'amber']);
createParticles('reveal-particles', 25, ['gold', 'cyan', 'amber', 'emerald']);
createParticles('interlude-particles', 12, ['gold', 'violet', 'cyan']);
createParticles('narrative-particles', 10, ['gold']);
createParticles('complete-particles', 15, ['gold', 'amber', 'violet']);
</script>
</body>
</html>